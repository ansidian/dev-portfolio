:root {
  /* Light Theme (Default) */
  --banner-bg: #f8f9fa;
  --particle-color: #d1d5db; /* Light gray particles */
  --particle-glow-color: #9ca3af; /* Slightly darker/more visible */
  --text-color-banner: #1f2937;
  --page-bg: #ffffff;
  --text-color-page: #1f2937;

  /* Config */
  --particle-size: 3px;
  --particle-base-opacity: 0.5;
  --particle-glow-opacity: 0.8;
  --transition-speed: 0.3s; /* For non-transform properties like opacity */
}

body.dark-mode {
  /* Dark Theme */
  --banner-bg: #111827;
  --particle-color: #4b5563; /* Muted dark particles */
  --particle-glow-color: #9ca3af; /* Lighter gray glow */
  --text-color-banner: #f3f4f6;
  --page-bg: #111827; /* Match banner or make slightly different */
  --text-color-page: #f3f4f6;
}

body {
  margin: 0;
  font-family: sans-serif;
  background-color: var(--page-bg);
  color: var(--text-color-page);
  transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}

#interactive-banner {
  position: relative;
  width: 100%;
  min-height: 350px; /* Adjust as needed */
  background-color: var(--banner-bg);
  overflow: hidden; /* Keep particles contained */
  transition: background-color var(--transition-speed) ease;
}

#particle-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

#line-svg {
  position: absolute; /* Position within the container */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* SVG should not capture mouse events */
  z-index: 1; /* Draw lines behind particles */
}


.banner-content {
  position: relative; /* Relative to the banner */
  z-index: 2; /* Above particles */
  color: var(--text-color-banner);
  text-align: center;
  padding: 20px;
  transition: color var(--transition-speed) ease;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100%;
  min-height: 350px; /* Match banner */
  pointer-events: none; /* Allow mouse events through */
}

.banner-content h1, .banner-content p {
  pointer-events: auto; /* Enable events for text */
  margin-bottom: 0.5em;
}

.particle {
  position: absolute;
  width: var(--particle-size);
  height: var(--particle-size);
  background-color: var(--particle-color);
  border-radius: 50%;
  opacity: var(--particle-base-opacity);
  transition: opacity var(--transition-speed) ease-out, background-color var(--transition-speed) ease-out; /* Transition visual changes */
  will-change: transform, opacity; /* Optimize */
  pointer-events: none;
  z-index: 2; /* Ensure particles are drawn ABOVE the lines */
  /* Initial top/left set by JS */
}

#line-svg line {
  stroke: var(--particle-glow-color); /* Use a theme color */
  stroke-width: 1px; /* Adjust thickness */
  stroke-linecap: round; /* Nicer line ends */
  /* Opacity will be set dynamically via JS based on distance */
}

/* Theme toggle button styles (same as before) */
#theme-toggle {
  padding: 8px 15px;
  border: 1px solid var(--text-color-page);
  background-color: var(--page-bg);
  color: var(--text-color-page);
  cursor: pointer;
  border-radius: 5px;
  transition: all var(--transition-speed) ease;
  position: fixed; /* Keep it accessible */
  top: 10px;
  right: 10px;
  z-index: 100;
}

#theme-toggle:hover {
  background-color: var(--text-color-page);
  color: var(--page-bg);
}
